sap.ui.define(["sap/ui/core/mvc/Controller","sap/ui/model/odata/v4/ODataModel","sap/m/MessageToast"],function(t,e,o){"use strict";return t.extend("workflowui.controller.Main",{onInit:function(){const t=new e("/odata/v4/process-automation/");this.getView().setModel(t);this._loadData()},_loadData:function(){const t=this.byId("poTable");const e=this.getView().getModel();e.read("/ProcessAutomations",{success:function(e){t.setModel(new sap.ui.model.json.JSONModel(e));t.bindItems({path:"/value",template:new sap.m.ColumnListItem({cells:[new sap.m.Text({text:"{PONumber}"}),new sap.m.Text({text:"{Savings}"}),new sap.m.Text({text:"{TriggerStatus}"})]})})},error:function(t){o.show("Error loading data.");console.error("Error loading data:",t)}})},onTriggerWorkflow:async function(){const t=this.getView().getModel();try{await t.callFunction("/triggerWorkflowAndUpdateStatus",{method:"POST",urlParameters:{}});this._loadData();o.show("Workflow triggered and status updated.")}catch(t){o.show("Error triggering workflow.");console.error("Error triggering workflow:",t)}}})});
//# sourceMappingURL=workflow-ui.controller.js.map